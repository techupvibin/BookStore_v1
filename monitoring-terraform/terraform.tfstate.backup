{
  "version": 4,
  "terraform_version": "1.12.2",
  "serial": 8,
  "lineage": "cc4420ef-97e0-43c1-0f1b-fdf0c775dcfe",
  "outputs": {},
  "resources": [
    {
      "mode": "data",
      "type": "aws_eks_cluster",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_config": [
              {
                "authentication_mode": "CONFIG_MAP",
                "bootstrap_cluster_creator_admin_permissions": true
              }
            ],
            "arn": "arn:aws:eks:us-east-2:430006376054:cluster/bookstore-eks",
            "certificate_authority": [
              {
                "data": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURCVENDQWUyZ0F3SUJBZ0lJQjRrcEV2dHV3Sll3RFFZSktvWklodmNOQVFFTEJRQXdGVEVUTUJFR0ExVUUKQXhNS2EzVmlaWEp1WlhSbGN6QWVGdzB5TlRFeU1URXhOakU1TXpoYUZ3MHpOVEV5TURreE5qSTBNemhhTUJVeApFekFSQmdOVkJBTVRDbXQxWW1WeWJtVjBaWE13Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLCkFvSUJBUUNmeGxOUWdkM3FuWEJCZGRpL1dHZkVFcmsxYjBLNEhqZk1yMVlkK0hGVlJZWHk0RGY5SXNZSG45NTcKUFlwYmc0WnhUaHBJMC9QSnh4ejhnVlNyYWU1QVk1cll5NkJhSndzbzNraWdrRmRVU2U1MjJrYVg3YjdLaWt3NwphRHZoRTQzSDRTYnc4dFR4RVdUMWNrSFdSK0crVXY3T3pwNjd5RXVwT0ZaSmsvNkpvS3JtUUZ0TXJrTUNrVk5YCkNDUEtUUFRpVWdSTXFGNzRYOUVmWndMRGdlTkw5dnF6MUpGWTBMQ1AyVXBZWjMvQjUyL0ZKWkpHdGNHMlBSZ1EKRDVIU0owQWpEYWRRamRpS0MwclJFZG5JK09tcUlaUGZhdWlibWRhbmduOEpFdkdHQ3dHS3BJVWFKWUowQ3Z0bwphSmlsbjlhQld4b0Vjdm9wWXJBMXlha044YnRWQWdNQkFBR2pXVEJYTUE0R0ExVWREd0VCL3dRRUF3SUNwREFQCkJnTlZIUk1CQWY4RUJUQURBUUgvTUIwR0ExVWREZ1FXQkJRakFlSW55Q08vMEJteS85N2h5NVcwTC9rN3VUQVYKQmdOVkhSRUVEakFNZ2dwcmRXSmxjbTVsZEdWek1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQW1weXdTYzRuZApqLzhCN0tuWjdOSWxnb1FaZE5YNmZuQ3ZrZ1VxOGxqR2Rma2hOY0x1ZEpTYUpOR0tMVjZOUlk2RE15ZjNMOEJ4ClBVV3BHRXdOQjRLZGYvczVsSjhpL1g4WXJRSmpZamNIdDNJTTF1ZElUK0xsc0F4R0x4NVNTa1EzUkQ1eUR4MmYKTlFMVlFQb2JxTTJ2Nit4MHc2QmI5Z1RnMnVleUp1K3lZdlVyNU9CdUNrcE82OHBQamhubkJzdWkvQmJpak5mdAptdjBHUWxHNmVCT1puRUZ0ZzQrRm1ab2tUUm14YWh2S0V4VFJsM010cks3NXRwbWM0akNDUnJoSGM4REJpczBqClVOclp3aFk1UktqeU5Ibm8za3FlWXdKUURCd2NhK3g4d0NodFlDSUx6Yjk2ZmZSRmxoS0tUYXViVE9UcG1Lb2sKM1B4YkVTaFJFc2RYCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
              }
            ],
            "cluster_id": null,
            "compute_config": [],
            "control_plane_scaling_config": [
              {
                "tier": "standard"
              }
            ],
            "created_at": "2025-12-11T16:18:56Z",
            "deletion_protection": false,
            "enabled_cluster_log_types": [],
            "endpoint": "https://6CEC2B7F5078B7886F8FD45F6A6062A6.gr7.us-east-2.eks.amazonaws.com",
            "id": "bookstore-eks",
            "identity": [
              {
                "oidc": [
                  {
                    "issuer": "https://oidc.eks.us-east-2.amazonaws.com/id/6CEC2B7F5078B7886F8FD45F6A6062A6"
                  }
                ]
              }
            ],
            "kubernetes_network_config": [
              {
                "elastic_load_balancing": [
                  {
                    "enabled": false
                  }
                ],
                "ip_family": "ipv4",
                "service_ipv4_cidr": "172.20.0.0/16",
                "service_ipv6_cidr": ""
              }
            ],
            "name": "bookstore-eks",
            "outpost_config": [],
            "platform_version": "eks.9",
            "region": "us-east-2",
            "remote_network_config": [],
            "role_arn": "arn:aws:iam::430006376054:role/bookstore-eks-cluster-role",
            "status": "ACTIVE",
            "storage_config": [],
            "tags": {},
            "upgrade_policy": [
              {
                "support_type": "EXTENDED"
              }
            ],
            "version": "1.34",
            "vpc_config": [
              {
                "cluster_security_group_id": "sg-0a1e0ec8085a84fde",
                "endpoint_private_access": false,
                "endpoint_public_access": true,
                "public_access_cidrs": [
                  "0.0.0.0/0"
                ],
                "security_group_ids": [],
                "subnet_ids": [
                  "subnet-02af7694ce3dc9fb1",
                  "subnet-06f1c468e613516d4"
                ],
                "vpc_id": "vpc-0b42da177e0a5974c"
              }
            ],
            "zonal_shift_config": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_eks_cluster_auth",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "bookstore-eks",
            "name": "bookstore-eks",
            "region": "us-east-2",
            "token": "k8s-aws-v1.aHR0cHM6Ly9zdHMudXMtZWFzdC0yLmFtYXpvbmF3cy5jb20vP0FjdGlvbj1HZXRDYWxsZXJJZGVudGl0eSZWZXJzaW9uPTIwMTEtMDYtMTUmWC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBV0lIVEFTWjNBVjJRUFRITSUyRjIwMjUxMjE1JTJGdXMtZWFzdC0yJTJGc3RzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNTEyMTVUMDU1MTE2WiZYLUFtei1FeHBpcmVzPTAmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JTNCeC1rOHMtYXdzLWlkJlgtQW16LVNpZ25hdHVyZT1lMWRmMzNmYWFkNTdiZGU4NmYwZDc1ODJjOWIzYjdkYTBiM2VkYjQ0ZjZjZmY4NzEyYzRjOTg4OWZmMDNlMDE4"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "token"
              }
            ]
          ],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_config_map",
      "name": "alertmanager_config",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "binary_data": null,
            "data": {
              "alertmanager.yml": "global:\n  resolve_timeout: 5m\n  slack_api_url: 'https://hooks.slack.com/services/YOUR_SLACK_WEBHOOK'\n\nroute:\n  group_by: ['alertname', 'cluster', 'service']\n  group_wait: 10s\n  group_interval: 10s\n  repeat_interval: 1h\n  receiver: 'web.hook'\n  routes:\n    - match:\n        severity: critical\n      receiver: 'critical-alerts'\n      continue: true\n    - match:\n        severity: warning\n      receiver: 'warning-alerts'\n\nreceivers:\n  - name: 'web.hook'\n    webhook_configs:\n      - url: 'http://127.0.0.1:5001/'\n\n  - name: 'critical-alerts'\n    webhook_configs:\n      - url: 'http://127.0.0.1:5001/critical'\n    slack_configs:\n      - channel: '#alerts-critical'\n        title: 'Critical Alert: {{ .GroupLabels.alertname }}'\n        text: '{{ range .Alerts }}{{ .Annotations.summary }}{{ .Annotations.description }}{{ end }}'\n        send_resolved: true\n\n  - name: 'warning-alerts'\n    webhook_configs:\n      - url: 'http://127.0.0.1:5001/warning'\n    slack_configs:\n      - channel: '#alerts-warning'\n        title: 'Warning Alert: {{ .GroupLabels.alertname }}'\n        text: '{{ range .Alerts }}{{ .Annotations.summary }}{{ .Annotations.description }}{{ end }}'\n        send_resolved: true\n\ninhibit_rules:\n  - source_match:\n      severity: 'critical'\n    target_match:\n      severity: 'warning'\n    equal: ['alertname', 'dev', 'instance']\n"
            },
            "id": "monitoring/alertmanager-config",
            "immutable": false,
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 0,
                "labels": null,
                "name": "alertmanager-config",
                "namespace": "monitoring",
                "resource_version": "870152",
                "uid": "9405a0de-3f7c-4dde-92aa-15316f5362f9"
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "v1",
            "kind": "ConfigMap",
            "name": "alertmanager-config",
            "namespace": "monitoring"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_eks_cluster.this",
            "data.aws_eks_cluster_auth.this",
            "kubernetes_namespace.monitoring"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_config_map",
      "name": "prometheus_config",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "binary_data": null,
            "data": {
              "alert_rules.yml": "groups:\n  - name: BookStore Application\n    rules:\n      # High error rate\n      - alert: HighErrorRate\n        expr: rate(http_server_requests_seconds_count{status=~\"5..\"}[5m]) \u003e 0.1\n        for: 2m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"High error rate detected\"\n          description: \"Error rate is {{ $value }} errors per second\"\n\n      # High response time\n      - alert: HighResponseTime\n        expr: histogram_quantile(0.95, rate(http_server_requests_seconds_bucket[5m])) \u003e 2\n        for: 2m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"High response time detected\"\n          description: \"95th percentile response time is {{ $value }} seconds\"\n\n      # Application down\n      - alert: ApplicationDown\n        expr: up{job=\"bookstore-app\"} == 0\n        for: 1m\n        labels:\n          severity: critical\n        annotations:\n          summary: \"BookStore application is down\"\n          description: \"Application has been down for more than 1 minute\"\n\n      # High memory usage\n      - alert: HighMemoryUsage\n        expr: (jvm_memory_used_bytes / jvm_memory_max_bytes) * 100 \u003e 85\n        for: 5m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"High memory usage\"\n          description: \"Memory usage is {{ $value }}%\"\n\n      # High CPU usage\n      - alert: HighCPUUsage\n        expr: (process_cpu_usage * 100) \u003e 80\n        for: 5m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"High CPU usage\"\n          description: \"CPU usage is {{ $value }}%\"\n\n  - name: Order Processing\n    rules:\n      # Failed orders\n      - alert: HighOrderFailureRate\n        expr: rate(orders_failed_count[5m]) \u003e 0.1\n        for: 2m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"High order failure rate\"\n          description: \"Order failure rate is {{ $value }} failures per second\"\n\n      # Stuck orders\n      - alert: StuckOrders\n        expr: orders_in_progress_count \u003e 10\n        for: 10m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"Too many orders in progress\"\n          description: \"There are {{ $value }} orders in progress\"\n\n      # Order processing time\n      - alert: SlowOrderProcessing\n        expr: histogram_quantile(0.95, rate(order_processing_time_bucket[5m])) \u003e 30\n        for: 2m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"Slow order processing\"\n          description: \"95th percentile order processing time is {{ $value }} seconds\"\n\n  - name: Kafka\n    rules:\n      # Kafka consumer lag\n      - alert: HighKafkaConsumerLag\n        expr: kafka_consumer_group_max_lag \u003e 1000\n        for: 5m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"High Kafka consumer lag\"\n          description: \"Consumer lag is {{ $value }} messages\"\n\n      # Kafka producer errors\n      - alert: KafkaProducerErrors\n        expr: rate(kafka_producer_record_send_total{result=\"error\"}[5m]) \u003e 0\n        for: 2m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"Kafka producer errors detected\"\n          description: \"Producer error rate is {{ $value }} errors per second\"\n\n  - name: Database\n    rules:\n      # Database connection pool\n      - alert: HighDatabaseConnections\n        expr: hikaricp_connections_active / hikaricp_connections_max \u003e 0.8\n        for: 5m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"High database connection usage\"\n          description: \"Database connection usage is {{ $value }}%\"\n\n      # Slow database queries\n      - alert: SlowDatabaseQueries\n        expr: histogram_quantile(0.95, rate(hibernate_sessions_open_total[5m])) \u003e 1\n        for: 2m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"Slow database queries detected\"\n          description: \"95th percentile query time is {{ $value }} seconds\"\n\n  - name: Infrastructure\n    rules:\n      # Disk space\n      - alert: LowDiskSpace\n        expr: (node_filesystem_avail_bytes / node_filesystem_size_bytes) * 100 \u003c 10\n        for: 5m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"Low disk space\"\n          description: \"Disk space is {{ $value }}% available\"\n\n      # High system load\n      - alert: HighSystemLoad\n        expr: node_load1 \u003e 5\n        for: 5m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"High system load\"\n          description: \"System load is {{ $value }}\"\n",
              "prometheus.yml": "global:\n  scrape_interval: 15s\n  evaluation_interval: 15s\n\nrule_files:\n  - \"alert_rules.yml\"\n\nalerting:\n  alertmanagers:\n    - static_configs:\n        - targets:\n          - alertmanager:9093\n\nscrape_configs:\n  # Prometheus itself\n  - job_name: 'prometheus'\n    static_configs:\n      - targets: ['localhost:9090']\n\n  # BookStore Spring Boot Application\n  - job_name: 'bookstore-app'\n    metrics_path: '/actuator/prometheus'\n    static_configs:\n      - targets: ['bookstore_springboot_app:8080']\n    scrape_interval: 10s\n    scrape_timeout: 5s\n    relabel_configs:\n      - source_labels: [__address__]\n        target_label: instance\n        regex: '([^:]+)(?::\\d+)?'\n        replacement: '${1}'\n\n  # PostgreSQL Database\n  - job_name: 'postgres'\n    static_configs:\n      - targets: ['postgres-db:5432']\n    metrics_path: '/metrics'\n    scrape_interval: 30s\n\n  # Redis Cache\n  - job_name: 'redis'\n    static_configs:\n      - targets: ['redis:6379']\n    metrics_path: '/metrics'\n    scrape_interval: 30s\n\n  # Kafka\n  - job_name: 'kafka'\n    static_configs:\n      - targets: ['kafka:9101']\n    metrics_path: '/metrics'\n    scrape_interval: 30s\n\n  # Node Exporter (if running on host)\n  - job_name: 'node-exporter'\n    static_configs:\n      - targets: ['host.docker.internal:9100']\n    scrape_interval: 30s\n"
            },
            "id": "monitoring/prometheus-config",
            "immutable": false,
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 0,
                "labels": null,
                "name": "prometheus-config",
                "namespace": "monitoring",
                "resource_version": "870154",
                "uid": "497f6f3e-87b9-4383-b119-ee16367e82cb"
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "v1",
            "kind": "ConfigMap",
            "name": "prometheus-config",
            "namespace": "monitoring"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_eks_cluster.this",
            "data.aws_eks_cluster_auth.this",
            "kubernetes_namespace.monitoring"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_deployment_v1",
      "name": "alertmanager",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "monitoring/alertmanager",
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 1,
                "labels": null,
                "name": "alertmanager",
                "namespace": "monitoring",
                "resource_version": "870205",
                "uid": "d0f66a7e-7c6d-45bb-9bf8-ad01978d3e11"
              }
            ],
            "spec": [
              {
                "min_ready_seconds": 0,
                "paused": false,
                "progress_deadline_seconds": 600,
                "replicas": "1",
                "revision_history_limit": 10,
                "selector": [
                  {
                    "match_expressions": [],
                    "match_labels": {
                      "app": "alertmanager"
                    }
                  }
                ],
                "strategy": [
                  {
                    "rolling_update": [
                      {
                        "max_surge": "25%",
                        "max_unavailable": "25%"
                      }
                    ],
                    "type": "RollingUpdate"
                  }
                ],
                "template": [
                  {
                    "metadata": [
                      {
                        "annotations": null,
                        "generate_name": "",
                        "generation": 0,
                        "labels": {
                          "app": "alertmanager"
                        },
                        "name": "",
                        "namespace": "",
                        "resource_version": "",
                        "uid": ""
                      }
                    ],
                    "spec": [
                      {
                        "active_deadline_seconds": 0,
                        "affinity": [],
                        "automount_service_account_token": true,
                        "container": [
                          {
                            "args": [
                              "--config.file=/etc/alertmanager/alertmanager.yml"
                            ],
                            "command": null,
                            "env": [],
                            "env_from": [],
                            "image": "prom/alertmanager:v0.27.0",
                            "image_pull_policy": "IfNotPresent",
                            "lifecycle": [],
                            "liveness_probe": [],
                            "name": "alertmanager",
                            "port": [
                              {
                                "container_port": 9093,
                                "host_ip": "",
                                "host_port": 0,
                                "name": "",
                                "protocol": "TCP"
                              }
                            ],
                            "readiness_probe": [],
                            "resources": [
                              {
                                "limits": {},
                                "requests": {}
                              }
                            ],
                            "security_context": [],
                            "startup_probe": [],
                            "stdin": false,
                            "stdin_once": false,
                            "termination_message_path": "/dev/termination-log",
                            "termination_message_policy": "File",
                            "tty": false,
                            "volume_device": [],
                            "volume_mount": [
                              {
                                "mount_path": "/etc/alertmanager",
                                "mount_propagation": "None",
                                "name": "config",
                                "read_only": false,
                                "sub_path": "",
                                "sub_path_expr": ""
                              }
                            ],
                            "working_dir": ""
                          }
                        ],
                        "dns_config": [],
                        "dns_policy": "ClusterFirst",
                        "enable_service_links": true,
                        "host_aliases": [],
                        "host_ipc": false,
                        "host_network": false,
                        "host_pid": false,
                        "hostname": "",
                        "image_pull_secrets": [],
                        "init_container": [],
                        "node_name": "",
                        "node_selector": null,
                        "os": [],
                        "priority_class_name": "",
                        "readiness_gate": [],
                        "restart_policy": "Always",
                        "runtime_class_name": "",
                        "scheduler_name": "default-scheduler",
                        "security_context": [],
                        "service_account_name": "",
                        "share_process_namespace": false,
                        "subdomain": "",
                        "termination_grace_period_seconds": 30,
                        "toleration": [],
                        "topology_spread_constraint": [],
                        "volume": [
                          {
                            "aws_elastic_block_store": [],
                            "azure_disk": [],
                            "azure_file": [],
                            "ceph_fs": [],
                            "cinder": [],
                            "config_map": [
                              {
                                "default_mode": "0644",
                                "items": [],
                                "name": "alertmanager-config",
                                "optional": false
                              }
                            ],
                            "csi": [],
                            "downward_api": [],
                            "empty_dir": [],
                            "ephemeral": [],
                            "fc": [],
                            "flex_volume": [],
                            "flocker": [],
                            "gce_persistent_disk": [],
                            "git_repo": [],
                            "glusterfs": [],
                            "host_path": [],
                            "iscsi": [],
                            "local": [],
                            "name": "config",
                            "nfs": [],
                            "persistent_volume_claim": [],
                            "photon_persistent_disk": [],
                            "projected": [],
                            "quobyte": [],
                            "rbd": [],
                            "secret": [],
                            "vsphere_volume": []
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_rollout": true
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "apps/v1",
            "kind": "Deployment",
            "name": "alertmanager",
            "namespace": "monitoring"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "data.aws_eks_cluster.this",
            "data.aws_eks_cluster_auth.this",
            "kubernetes_config_map.alertmanager_config",
            "kubernetes_namespace.monitoring"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_deployment_v1",
      "name": "prometheus",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "monitoring/prometheus",
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 1,
                "labels": null,
                "name": "prometheus",
                "namespace": "monitoring",
                "resource_version": "870219",
                "uid": "93a0cdbe-0a40-4062-b9aa-c25e7e8b633c"
              }
            ],
            "spec": [
              {
                "min_ready_seconds": 0,
                "paused": false,
                "progress_deadline_seconds": 600,
                "replicas": "1",
                "revision_history_limit": 10,
                "selector": [
                  {
                    "match_expressions": [],
                    "match_labels": {
                      "app": "prometheus"
                    }
                  }
                ],
                "strategy": [
                  {
                    "rolling_update": [
                      {
                        "max_surge": "25%",
                        "max_unavailable": "25%"
                      }
                    ],
                    "type": "RollingUpdate"
                  }
                ],
                "template": [
                  {
                    "metadata": [
                      {
                        "annotations": null,
                        "generate_name": "",
                        "generation": 0,
                        "labels": {
                          "app": "prometheus"
                        },
                        "name": "",
                        "namespace": "",
                        "resource_version": "",
                        "uid": ""
                      }
                    ],
                    "spec": [
                      {
                        "active_deadline_seconds": 0,
                        "affinity": [],
                        "automount_service_account_token": true,
                        "container": [
                          {
                            "args": [
                              "--config.file=/etc/prometheus/prometheus.yml"
                            ],
                            "command": null,
                            "env": [],
                            "env_from": [],
                            "image": "prom/prometheus:v2.52.0",
                            "image_pull_policy": "IfNotPresent",
                            "lifecycle": [],
                            "liveness_probe": [],
                            "name": "prometheus",
                            "port": [
                              {
                                "container_port": 9090,
                                "host_ip": "",
                                "host_port": 0,
                                "name": "",
                                "protocol": "TCP"
                              }
                            ],
                            "readiness_probe": [],
                            "resources": [
                              {
                                "limits": {},
                                "requests": {}
                              }
                            ],
                            "security_context": [],
                            "startup_probe": [],
                            "stdin": false,
                            "stdin_once": false,
                            "termination_message_path": "/dev/termination-log",
                            "termination_message_policy": "File",
                            "tty": false,
                            "volume_device": [],
                            "volume_mount": [
                              {
                                "mount_path": "/etc/prometheus",
                                "mount_propagation": "None",
                                "name": "config",
                                "read_only": false,
                                "sub_path": "",
                                "sub_path_expr": ""
                              }
                            ],
                            "working_dir": ""
                          }
                        ],
                        "dns_config": [],
                        "dns_policy": "ClusterFirst",
                        "enable_service_links": true,
                        "host_aliases": [],
                        "host_ipc": false,
                        "host_network": false,
                        "host_pid": false,
                        "hostname": "",
                        "image_pull_secrets": [],
                        "init_container": [],
                        "node_name": "",
                        "node_selector": null,
                        "os": [],
                        "priority_class_name": "",
                        "readiness_gate": [],
                        "restart_policy": "Always",
                        "runtime_class_name": "",
                        "scheduler_name": "default-scheduler",
                        "security_context": [],
                        "service_account_name": "",
                        "share_process_namespace": false,
                        "subdomain": "",
                        "termination_grace_period_seconds": 30,
                        "toleration": [],
                        "topology_spread_constraint": [],
                        "volume": [
                          {
                            "aws_elastic_block_store": [],
                            "azure_disk": [],
                            "azure_file": [],
                            "ceph_fs": [],
                            "cinder": [],
                            "config_map": [
                              {
                                "default_mode": "0644",
                                "items": [],
                                "name": "prometheus-config",
                                "optional": false
                              }
                            ],
                            "csi": [],
                            "downward_api": [],
                            "empty_dir": [],
                            "ephemeral": [],
                            "fc": [],
                            "flex_volume": [],
                            "flocker": [],
                            "gce_persistent_disk": [],
                            "git_repo": [],
                            "glusterfs": [],
                            "host_path": [],
                            "iscsi": [],
                            "local": [],
                            "name": "config",
                            "nfs": [],
                            "persistent_volume_claim": [],
                            "photon_persistent_disk": [],
                            "projected": [],
                            "quobyte": [],
                            "rbd": [],
                            "secret": [],
                            "vsphere_volume": []
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_rollout": true
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "apps/v1",
            "kind": "Deployment",
            "name": "prometheus",
            "namespace": "monitoring"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "data.aws_eks_cluster.this",
            "data.aws_eks_cluster_auth.this",
            "kubernetes_config_map.prometheus_config",
            "kubernetes_namespace.monitoring"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_namespace",
      "name": "monitoring",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "monitoring",
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 0,
                "labels": null,
                "name": "monitoring",
                "resource_version": "870148",
                "uid": "e14d4b5b-2a73-454a-8428-63c60d99ee0a"
              }
            ],
            "timeouts": null,
            "wait_for_default_service_account": false
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "v1",
            "kind": "Namespace",
            "name": "monitoring"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjozMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "data.aws_eks_cluster.this",
            "data.aws_eks_cluster_auth.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_service_v1",
      "name": "prometheus",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "monitoring/prometheus",
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 0,
                "labels": null,
                "name": "prometheus",
                "namespace": "monitoring",
                "resource_version": "870195",
                "uid": "edbaca3f-d307-4a06-9871-78eca1f10227"
              }
            ],
            "spec": [
              {
                "allocate_load_balancer_node_ports": true,
                "cluster_ip": "172.20.122.97",
                "cluster_ips": [
                  "172.20.122.97"
                ],
                "external_ips": null,
                "external_name": "",
                "external_traffic_policy": "Cluster",
                "health_check_node_port": 0,
                "internal_traffic_policy": "Cluster",
                "ip_families": [
                  "IPv4"
                ],
                "ip_family_policy": "SingleStack",
                "load_balancer_class": "",
                "load_balancer_ip": "",
                "load_balancer_source_ranges": null,
                "port": [
                  {
                    "app_protocol": "",
                    "name": "",
                    "node_port": 30494,
                    "port": 9090,
                    "protocol": "TCP",
                    "target_port": "9090"
                  }
                ],
                "publish_not_ready_addresses": false,
                "selector": {
                  "app": "prometheus"
                },
                "session_affinity": "None",
                "session_affinity_config": [],
                "type": "LoadBalancer"
              }
            ],
            "status": [
              {
                "load_balancer": [
                  {
                    "ingress": [
                      {
                        "hostname": "aedbaca3fd3074a06987178eca1f1022-1781715051.us-east-2.elb.amazonaws.com",
                        "ip": ""
                      }
                    ]
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_load_balancer": true
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "v1",
            "kind": "Service",
            "name": "prometheus",
            "namespace": "monitoring"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.aws_eks_cluster.this",
            "data.aws_eks_cluster_auth.this",
            "kubernetes_namespace.monitoring"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
